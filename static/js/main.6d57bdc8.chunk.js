(this["webpackJsonpnetflix-react"]=this["webpackJsonpnetflix-react"]||[]).push([[0],{113:function(e,t,a){},121:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),o=a.n(c),i=(a(53),a(13)),u=(a(54),"?api_key=67b347978ffe14fc5d6f8a664a1829f2"),l="https://api.themoviedb.org/3",s="https://api.themoviedb.org/3/movie/",m=a(9),p=a(1),h=a.n(p),d=a(11),f=a.n(d),g=a(15),v=a(14),E=a(47),b=a(3),R="LOAD_TRENDY_MOVIES_SUCCESS ",M="LOAD_POPULAR_MOVIES_SUCCESS ",P="BEGIN_API_CALL",S="API_CALL_ERROR",y="SET_CURRENT_MOVIE",O="SEARCH_INPUT",j="SEARCH_RESULTS_SUCCESS",w="SET_CURRENT_PAGE_SUCCESS",C="SEARCH_GENRE_SUCCESS";function _(e){return N.apply(this,arguments)}function N(){return(N=Object(g.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=3;break}return console.log("fetch success"),e.abrupt("return",t.json());case 3:if(400!==t.status){e.next=9;break}return e.next=6,t.text();case 6:throw a=e.sent,console.log(a),new Error("404 error");case 9:throw new Error("response failed");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){throw console.error("API call failed. "+e),e}function k(){return{type:P}}function q(){return{type:S}}function x(e){return function(t){t(function(e){return{type:y,currentMovie:e}}(e))}}function A(e){return function(t){t(function(e){return{type:O,payload:e}}(e))}}function L(e,t){return function(a){return a(k()),function(e,t){return fetch("".concat(l,"/search/movie").concat(u,"&query=").concat(e,"&page=").concat(t)).then(_).catch(I)}(e,t).then((function(e){a(function(e){return{type:j,searchResults:e}}(e))})).catch((function(e){throw a(q()),e}))}}function T(e){return function(t){t(function(e){return{type:w,currentPage:e}}(e))}}a(60);var U=a(122);function D(e){var t=e.setSearch,a=e.loadSearchResults,c=(e.searchInput,e.searchResults,e.currentPage,e.setMovie),o=Object(E.a)(e,["setSearch","loadSearchResults","searchInput","searchResults","currentPage","setMovie"]),u=Object(n.useState)(""),l=Object(v.a)(u,2),s=l[0],m=l[1],p=Object(b.f)(),h=function(){var e=Object(g.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),""===s?alert("please enter a movie title"):(t(s),c([]),a(s).catch((function(e){alert("loading popular"+e)})),p.push("/search/".concat(s)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"search"},r.a.createElement("form",{action:r.a.createElement(i.b,{to:"/search"},"search"),onSubmit:h},r.a.createElement("input",{onChange:function(e){m(e.target.value)},type:"text",value:s,placeholder:"search for a movie"}),r.a.createElement("button",{type:"submit",onClick:h},r.a.createElement(i.b,{to:"/search"},r.a.createElement(U.b,null)))),r.a.createElement("p",null,o.searchInput))}D.prototypes={setSearch:h.a.func.isRequired,setMovie:h.a.func.isRequired,currentPage:h.a.number.isRequired,loadSearchResults:h.a.func.isRequired,searchInput:h.a.string.isRequired,searchResults:h.a.array.isRequired,actions:h.a.object.isRequired};var F={setSearch:A,setMovie:x,loadSearchResults:L},G=Object(m.b)((function(e){return{currentPage:e.homePageReducer.currentPage,searchInput:e.homePageReducer.searchInput,searchResults:e.homePageReducer.searchResults}}),F)(D);function B(e){var t=e.setMovie;function a(){t([])}return r.a.createElement("div",null,r.a.createElement("nav",{className:"nav"},r.a.createElement("div",{className:"nav-links"},r.a.createElement("img",{src:"https://www.themoviedb.org/assets/1/v4/logos/primary-green-d70eebe18a5eb5b166d5c1ef0796715b8d1a2cbc698f96d311d62f894ae87085.svg",alt:""}),r.a.createElement("ul",null,r.a.createElement("li",{onClick:a},r.a.createElement(i.b,{to:"/home"},"home")),r.a.createElement("li",{onClick:a},r.a.createElement(i.b,{to:"/login"},"login")),r.a.createElement("li",{onClick:a,className:"hide"},r.a.createElement("i",null,"search")))),r.a.createElement("div",{className:"nav-search"},r.a.createElement(G,null))))}B.prototypes={setMovie:h.a.func.isRequired};var H={setMovie:x},V=Object(m.b)(null,H)(B),J=(a(62),function(e){return r.a.createElement("div",{onClick:function(){return e.viewMovieInfo(e.movieId)}},r.a.createElement("div",{className:"cardMovie",style:{backgroundImage:"url(".concat(e.img,")")}}),r.a.createElement("p",{className:"titleMovie"},e.title))}),W=function(e){var t=e.movieList,a=e.viewMovieInfo;return r.a.createElement("div",{className:"list"},t.map((function(e,t){return r.a.createElement(J,{key:t,img:"".concat("https://image.tmdb.org/t/p/w200/").concat(e.poster_path),title:e.original_title,description:e.overview,viewMovieInfo:a,movieId:e.id})})))},X=(a(63),function(){return r.a.createElement("div",{className:"loader"},"Loading...")}),Y=a(22),z=a.n(Y);function $(e){var t=e.setMovie,a=e.searchInput,c=e.searchResults,o=e.loadSearchResults,i=e.setCurrentPage,u=(e.currentMovie,e.currentPage),l=e.setSearch,s=e.totalPages,m=Object(n.useState)([]),p=(Object(v.a)(m,1)[0],Object(b.f)()),h=Object(b.g)().name;Object(n.useEffect)((function(){l(h),""===a&&1===u||(o(a,u).catch((function(e){alert("loading search results failed"+e)})),p.push("/search/".concat(a)))}),[a,u,h,o,p,l]);return r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,void 0===c?r.a.createElement(r.a.Fragment,null,r.a.createElement(X,null)):0===c.length?r.a.createElement("p",null,"no movies found"):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Results for: ",a),r.a.createElement(W,{movieList:c,viewMovieInfo:function(e){var a=c.filter((function(t){return t.id===e})),n=a.length>0?a[0]:null;t(n),p.push("/searchResult/".concat(n.title))}}),r.a.createElement(z.a,{pageCount:s,pageRangeDisplayed:4,marginPagesDisplayed:0,onPageChange:function(e){e=e.selected+1,i(e),o(e)},containerClassName:"container",breakClassName:"break"}))))}$.prototypes={loadSearchResults:h.a.func.isRequired,setCurrentPage:h.a.func.isRequired,setSearch:h.a.func.isRequired,searchInput:h.a.string.isRequired,searchResults:h.a.array.isRequired,currentMovie:h.a.array.isRequired,actions:h.a.object.isRequired,setMovie:h.a.func.isRequired};var K={loadSearchResults:L,setSearch:A,setMovie:x,setCurrentPage:T},Q=Object(m.b)((function(e){return{searchInput:e.homePageReducer.searchInput,searchResults:e.homePageReducer.searchResults,currentMovie:e.homePageReducer.currentMovie,currentPage:e.homePageReducer.currentPage,totalPages:e.homePageReducer.totalPages}}),K)($);var Z=function(){var e=Object(n.useState)([]),t=Object(v.a)(e,2),a=t[0],c=t[1],o="https://cors-anywhere.herokuapp.com/";return Object(n.useEffect)((function(){function e(){return(e=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"https://api.themoviedb.org/3/movie/popular?api_key=67b347978ffe14fc5d6f8a664a1829f2&language=en-US&page=1\n "));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,c(a.results);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"popular-container"},r.a.createElement("h1",null,"Popular movies"),r.a.createElement(W,{movieList:a}))},ee=(a(67),a(68),a(40)),te=a.n(ee);a(84);var ae=function(e){var t=e.popularMovies,a={dots:!1,fade:!0,speed:200,slidesToShow:1,autoplay:!0,arrows:!1,className:"slides"};return r.a.createElement("div",{className:"App"},r.a.createElement(te.a,a,t.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",{className:"carousel-item",key:t,style:{backgroundImage:"url(https://image.tmdb.org/t/p/w1280/".concat(e.backdrop_path,")")}},r.a.createElement("div",{className:"slider-text"},r.a.createElement("h1",null,"Movie DB"),r.a.createElement("h3",null,"browse through the biggest movie library"),r.a.createElement("a",{href:"#popularSection"},r.a.createElement("ion-icon",{size:"large",name:"arrow-down"})))))}))))};a(85);function ne(e){var t=e.loadPopularMovies,a=e.loadTrendingMovies,c=e.loadGenres,o=e.genres,i=e.setMovie,u=e.popularMovies,l=e.trendingMovies,s=e.currentPage,m=e.setCurrentPage,p=e.totalPages;Object(n.useEffect)((function(){void 0!==o&&0!==o.length||c().catch((function(e){alert("loading trending movies"+e)}))}),[c,o,s]),Object(n.useEffect)((function(){void 0!==u&&0!==u.length||t(s).catch((function(e){alert("loading popular"+e)})),void 0!==l&&0!==l.length||a().catch((function(e){alert("loading trending movies"+e)}))}),[l,u,a,t,s]);var h=Object(b.f)();return r.a.createElement(r.a.Fragment,null,void 0===u||void 0===l?r.a.createElement(X,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,{popularMovies:u}),r.a.createElement("h1",{id:"popularSection"},"Popular movies"),r.a.createElement(W,{movieList:u,viewMovieInfo:function(e){var t=u.filter((function(t){return t.id===e})),a=t.length>0?t[0]:null;i(a),h.push("/popularMovies/".concat(a.title))}}),r.a.createElement(z.a,{pageCount:p,pageRangeDisplayed:4,marginPagesDisplayed:0,onPageChange:function(e){console.log(s),console.log(e.selected+1),e=e.selected+1,m(e),t(e),a(e)},containerClassName:"container",breakClassName:"break"})))}ne.prototypes={loadPopularMovies:h.a.func.isRequired,loadTrendingMovies:h.a.func.isRequired,loadGenres:h.a.func.isRequired,setMovie:h.a.func.isRequired,popularMovies:h.a.array.isRequired,trendingMovies:h.a.object.isRequired,apiStatusReducer:h.a.number.isRequired,loading:h.a.bool.isRequired,currentMovie:h.a.array.isRequired,currentPage:h.a.number.isRequired,totalPages:h.a.number.isRequired};var re={loadPopularMovies:function(e){return function(t){return t(k()),function(e){return fetch("".concat(l,"/movie/popular").concat(u,"&language=en-US&page=").concat(e)).then(_).catch(I)}(e).then((function(e){t(function(e){return{type:M,popularMovies:e}}(e))})).catch((function(e){throw t(q()),e}))}},loadTrendingMovies:function(){return function(e){return e(k()),fetch("".concat(l,"/trending/all/day").concat(u)).then(_).catch(I).then((function(t){e(function(e){return{type:R,trendingMovies:e}}(t))})).catch((function(t){throw e(q()),t}))}},loadGenres:function(){return function(e){return e(k()),fetch("".concat(l,"/genre/movie/list").concat(u,"&language=en-US")).then(_).catch(I).then((function(t){e(function(e){return{type:C,genres:e}}(t))})).catch((function(t){throw e(q()),t}))}},setMovie:x,setCurrentPage:T},ce=Object(m.b)((function(e){return{trendingMovies:e.homePageReducer.trendingMovies,popularMovies:e.homePageReducer.popularMovies,currentMovie:e.homePageReducer.currentMovie,currentPage:e.homePageReducer.currentPage,totalPages:e.homePageReducer.totalPages,loading:e.apiCallsInProgress>0}}),re)(ne),oe=function(){return r.a.createElement("h1",null,"Oops! page not found.")},ie=(a(86),a(41)),ue=a.n(ie),le=a(42),se=a.n(le);a(112);function me(e){var t=e.currentMovie,a=e.genres,c=t.vote_average,o=t.id,i=t.release_date,l=t.backdrop_path,m=t.overview,p=t.poster_path,h=t.title,d=Object(n.useState)(""),E=Object(v.a)(d,2),b=E[0],R=E[1],M=Object(n.useState)(!1),P=Object(v.a)(M,2),S=P[0],y=P[1];function O(){return(O=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""===b&&(t="".concat(s).concat(o,"/videos").concat(u),ue.a.get(t).then((function(e){R(e.data.results[0].key)}))),y(!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-profile",style:{backgroundImage:"url(https://image.tmdb.org/t/p/w1280/".concat(l,")")}},S?r.a.createElement(se.a,{channel:"youtube",isOpen:S,videoId:b,onClose:function(){return y(!1)}}):r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"profile-img"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500/".concat(p),alt:h}))),r.a.createElement("div",{className:"profile-text"},r.a.createElement("h2",null,h),r.a.createElement("ul",{className:"sub-title"},r.a.createElement("li",null,r.a.createElement("small",null,0===c?"No ratings yet":"Rating: ".concat(c)," ")),r.a.createElement("li",null," ",r.a.createElement("small",null,"Year: ",i.substr(0,4)," "))),r.a.createElement("br",null),r.a.createElement("ul",{className:"genres"},r.a.createElement("li",null,a.genres[0].name),r.a.createElement("li",null,a.genres[1].name),r.a.createElement("li",null,a.genres[2].name)),r.a.createElement("p",{className:"description"},m),r.a.createElement("ul",null,r.a.createElement("li",{className:"trailer-btn",onClick:function(){return O.apply(this,arguments)}},"trailer",r.a.createElement(U.a,null))))))))}me.prototypes={trailer:h.a.array.isRequired,searchTrailer:h.a.func.isRequired,currentMovie:h.a.array.isRequired};var pe,he={searchTrailer:function(e){return e(k()),function(e){return fetch("".concat(s).concat(e,"/videos/").concat(u)).then(_).catch(I)}(pe).then((function(t){e(function(e){return{type:"SEARCH_TRAILER_SUCCESS",trailer:e}}(t))})).catch((function(t){throw e(q()),t}))}},de=Object(m.b)((function(e){return{trailer:e.homePageReducer.trailer,currentMovie:e.homePageReducer.currentMovie,genres:e.homePageReducer.genres}}),he)(me),fe=function(){return r.a.createElement(b.c,null,r.a.createElement(b.a,{exact:!0,path:"/",component:ce}),r.a.createElement(b.a,{exact:!0,path:"/home",component:ce}),r.a.createElement(b.a,{path:"/popularMovies/:currentMovie",component:de}),r.a.createElement(b.a,{exact:!0,path:"/Movie-browse",component:ce}),r.a.createElement(b.a,{exact:!0,path:"/popular",component:Z}),r.a.createElement(b.a,{path:"/search/:name",component:Q}),r.a.createElement(b.a,{path:"/searchResult/:currentMovie",component:de}),r.a.createElement(b.a,{component:oe}))};a(113);function ge(){return r.a.createElement("div",{className:"App"},r.a.createElement(V,null),r.a.createElement(fe,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ve=a(10),Ee=a(4),be={searchInput:"",currentPage:1,currentMovieProfile:null,apiCallsInProgress:0,currentMovie:[],loading:!1};function Re(e){return"_SUCCESS"===e.substring(e.length-8)}var Me=a(23),Pe=a(43),Se={key:"root",storage:a.n(Pe).a,whiteList:["homePageReducer","apiStatusReducer"]},ye=Object(ve.c)({homePageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(Ee.a)(Object(Ee.a)({},e),{},{trendingMovies:t.trendingMovies.results,totalPages:t.trendingMovies.total_pages});case y:return Object(Ee.a)(Object(Ee.a)({},e),{},{currentMovie:t.currentMovie});case M:return Object(Ee.a)(Object(Ee.a)({},e),{},{popularMovies:t.popularMovies.results,totalPages:t.popularMovies.total_pages});case O:return Object(Ee.a)(Object(Ee.a)({},e),{},{searchInput:t.payload});case j:return Object(Ee.a)(Object(Ee.a)({},e),{},{searchResults:t.searchResults.results,totalPages:t.searchResults.total_pages});case w:return Object(Ee.a)(Object(Ee.a)({},e),{},{currentPage:t.currentPage});case C:return Object(Ee.a)(Object(Ee.a)({},e),{},{genres:t.genres});default:return e}},apiStatusReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be.apiCallsInProgress,t=arguments.length>1?arguments[1]:void 0;return t.type===P?e+1:Re(t.type)||t.type===S?e-1:e},initialState:be}),Oe=Object(Me.a)(Se,ye),je=a(44),we=a.n(je),Ce=a(45);a(120);var _e=a(46),Ne=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ve.d;return Object(ve.e)(Oe,e,t(Object(ve.a)(Ce.a,we()())))}(),Ie=Object(Me.b)(Ne);o.a.render(r.a.createElement(m.a,{store:Ne},r.a.createElement(i.a,null,r.a.createElement(_e.a,{loading:null,persistor:Ie},r.a.createElement(ge,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},53:function(e,t,a){},54:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){}},[[121,1,2]]]);
//# sourceMappingURL=main.6d57bdc8.chunk.js.map