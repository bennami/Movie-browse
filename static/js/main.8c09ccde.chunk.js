(this["webpackJsonpnetflix-react"]=this["webpackJsonpnetflix-react"]||[]).push([[0],{33:function(e,t,a){e.exports=a(73)},38:function(e,t,a){},39:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),i=(a(38),a(9)),l=(a(39),"?api_key=67b347978ffe14fc5d6f8a664a1829f2"),u="https://api.themoviedb.org/3",s="https://cors-anywhere.herokuapp.com/",m=("https://api.themoviedb.org/3/search/movie".concat(l,"?query="),a(10)),p=a.n(m),v=a(14),h=a(15),d=a(32),f=a(11),E=a(3),g=a(1),b=a.n(g);function R(e){return M.apply(this,arguments)}function M(){return(M=Object(v.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=3;break}return console.log("fetch success"),e.abrupt("return",t.json());case 3:if(400!==t.status){e.next=9;break}return e.next=6,t.text();case 6:throw a=e.sent,console.log(a),new Error("404 error");case 9:throw new Error("response failed");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){throw console.error("API call failed. "+e),e}function _(e){return function(t){t(function(e){return{type:"SET_CURRENT_MOVIE",currentMovie:e}}(e))}}function I(e){return function(t){return t({type:"BEGIN_API_CALL"}),function(e){return fetch("".concat(s).concat(u,"/search/movie/").concat(l,"&query=").concat(e,"&page=1")).then(R).catch(S)}(e).then((function(e){t(function(e){return{type:"SEARCH_RESULTS_SUCCESS",searchResults:e}}(e))})).catch((function(e){throw t({type:"API_CALL_ERROR"}),e}))}}a(45);function O(e){var t=e.setSearch,a=e.loadSearchResults,c=(e.searchInput,e.searchResults,e.currentPage,Object(d.a)(e,["setSearch","loadSearchResults","searchInput","searchResults","currentPage"])),o=Object(n.useState)(""),l=Object(h.a)(o,2),u=l[0],s=l[1],m=Object(E.f)(),f=function(){var e=Object(v.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),""===u?alert("please enter a movie title"):(t(u),a(u).catch((function(e){alert("loading popular"+e)})),m.push("/search/".concat(u)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"search"},r.a.createElement("form",{action:r.a.createElement(i.b,{to:"/search"},"search"),onSubmit:f},r.a.createElement("input",{onChange:function(e){s(e.target.value)},type:"text",value:u,placeholder:"search for a movie"}),r.a.createElement("button",{type:"submit",onClick:f},r.a.createElement(i.b,{to:"/search"},"search"))),r.a.createElement("p",null,c.searchInput))}O.prototypes={setSearch:b.a.func.isRequired,currentPage:b.a.number.isRequired,loadSearchResults:b.a.func.isRequired,searchInput:b.a.string.isRequired,searchResults:b.a.array.isRequired,actions:b.a.object.isRequired};var w={setSearch:function(e){return function(t){t(function(e){return{type:"SEARCH_INPUT",payload:e}}(e))}},loadSearchResults:I},y=Object(f.b)((function(e){return{currentPage:e.homePageReducer.currentPage,searchInput:e.homePageReducer.searchInput,searchResults:e.homePageReducer.searchResults}}),w)(O),P=function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"nav"},r.a.createElement("div",{className:"nav-links"},r.a.createElement("img",{src:"https://www.themoviedb.org/assets/1/v4/logos/primary-green-d70eebe18a5eb5b166d5c1ef0796715b8d1a2cbc698f96d311d62f894ae87085.svg",alt:""}),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/"},"home")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/login"},"login")),r.a.createElement("li",{className:"hide"},r.a.createElement("i",null,"search")))),r.a.createElement("div",{className:"nav-search"},r.a.createElement(y,null))))},C=function(e){return r.a.createElement("div",{onClick:function(){return e.viewMovieInfo(e.movieId)}},r.a.createElement("div",{className:"cardMovie",style:{backgroundImage:"url(".concat(e.img,")")}}),r.a.createElement("p",{className:"titleMovie"},e.title))},N=function(e){var t=e.movieList,a=e.viewMovieInfo;return r.a.createElement("div",{className:"list"},t.map((function(e,t){return r.a.createElement(C,{key:t,img:"".concat("https://image.tmdb.org/t/p/w200/").concat(e.poster_path),title:e.original_title,description:e.overview,viewMovieInfo:a,movieId:e.id})})))};a(47);var j=function(e){var t=e.currentMovie,a=t.vote_average,n=t.release_date,c=t.backdrop_path,o=t.overview,i=t.poster_path,l=t.genre_ids,u=t.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container-profile bg",style:{backgroundImage:"url(https://image.tmdb.org/t/p/w1280/".concat(c,")")}},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"cross"},r.a.createElement("ion-icon",{size:"large",name:"close-outline",onClick:e.closeMovieInfo,style:{color:"whitesmoke",cursor:"pointer"}})),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"profile-img"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500/".concat(i),alt:u}))),r.a.createElement("div",{className:"profile-text"},r.a.createElement("h2",null,u),r.a.createElement("div",{className:"sub-title"},r.a.createElement("p",null,r.a.createElement("small",null,0===a?"":"Rating: ".concat(a)," ")),r.a.createElement("p",null," ",r.a.createElement("small",null,"Release date: ",n.substr(0,4)," ")),r.a.createElement("p",null," ",r.a.createElement("small",null," trailer "))),r.a.createElement("br",null),r.a.createElement("p",null,l.map((function(t){return t===e.genre.id?(console.log(e.genre.name),e.genre.name):""}))),r.a.createElement("p",null,o))))))},L=(a(48),function(){return r.a.createElement("div",{className:"loader"},"Loading...")});function A(e){var t=e.setMovie,a=e.searchInput,c=e.searchResults,o=(e.loadSearchResults,e.currentMovie),i=Object(n.useState)([]),l=Object(h.a)(i,2),u=l[0];l[1],Object(E.f)();console.log(c),console.log(o);var s=function(e){var a=c.filter((function(t){return t.id===e})),n=a.length>0?a[0]:null;t(n)};return console.log(a),r.a.createElement("div",null,o.length<=0?r.a.createElement(r.a.Fragment,null,void 0===c?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"search undefined"),r.a.createElement(L,null)):0===c.length?r.a.createElement("p",null,"no movies found"):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Results for: ",a),r.a.createElement(N,{movieList:c,viewMovieInfo:s}),r.a.createElement("div",{className:"pagination-with-btn"}))):r.a.createElement(j,{viewMovieInfo:s,genre:u,currentMovie:o,closeMovieInfo:function(){t([])}}))}A.prototypes={loadSearchResults:b.a.func.isRequired,searchInput:b.a.string.isRequired,searchResults:b.a.array.isRequired,currentMovie:b.a.array.isRequired,actions:b.a.object.isRequired,setMovie:b.a.func.isRequired};var k={loadSearchResults:I,setMovie:_},q=Object(f.b)((function(e){return{searchInput:e.homePageReducer.searchInput,searchResults:e.homePageReducer.searchResults,currentMovie:e.homePageReducer.currentMovie}}),k)(A);var x=function(){var e=Object(n.useState)([]),t=Object(h.a)(e,2),a=t[0],c=t[1],o="https://cors-anywhere.herokuapp.com/";return Object(n.useEffect)((function(){function e(){return(e=Object(v.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"https://api.themoviedb.org/3/movie/popular?api_key=67b347978ffe14fc5d6f8a664a1829f2&language=en-US&page=1\n "));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,c(a.results);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"popular-container"},r.a.createElement("h1",null,"Popular movies"),r.a.createElement(N,{movieList:a}))},U=(a(49),a(50),a(28)),T=a.n(U);a(66);var D=function(e){var t=e.popularMovies,a={dots:!1,fade:!0,speed:200,slidesToShow:1,autoplay:!0,arrows:!1,className:"slides"};return r.a.createElement("div",{className:"App"},r.a.createElement(T.a,a,t.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",{className:"carousel-item",key:t,style:{backgroundImage:"url(https://image.tmdb.org/t/p/w1280/".concat(e.backdrop_path,")")}},r.a.createElement("div",{className:"slider-text"},r.a.createElement("h1",null,"Movie DB"),r.a.createElement("h3",null,"browse through the biggest movie library"),r.a.createElement("ion-icon",{size:"large",name:"arrow-down"}))))}))))};a(67);function B(e){var t=e.loadPopularMovies,a=e.loadTrendingMovies,c=e.setMovie,o=e.popularMovies,i=e.trendingMovies,l=e.currentMovie;Object(n.useEffect)((function(){void 0!==o&&0!==o.length||t().catch((function(e){alert("loading popular"+e)})),void 0!==i&&0!==i.length||a().catch((function(e){alert("loading trending movies"+e)}))}),[i,o,a,t]);var u=function(e){var t=o.filter((function(t){return t.id===e})),a=t.length>0?t[0]:null;c(a)};return r.a.createElement(r.a.Fragment,null,l.length<=0?void 0===o||void 0===i?r.a.createElement(L,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{popularMovies:o}),r.a.createElement("h1",null,"Popular movies"),r.a.createElement(N,{movieList:o,viewMovieInfo:u})):r.a.createElement(j,{viewMovieInfo:u,genre:"movieGenres",currentMovie:l,closeMovieInfo:function(){c([])}}))}B.prototypes={loadPopularMovies:b.a.func.isRequired,loadTrendingMovies:b.a.func.isRequired,setMovie:b.a.func.isRequired,popularMovies:b.a.array.isRequired,trendingMovies:b.a.object.isRequired,apiStatusReducer:b.a.number.isRequired,loading:b.a.bool.isRequired,currentMovie:b.a.array.isRequired};var V={loadPopularMovies:function(){return function(e){return e({type:"BEGIN_API_CALL"}),fetch("".concat(s).concat(u,"/movie/popular").concat(l,"&language=en-US&page=1")).then(R).catch(S).then((function(t){e(function(e){return{type:"LOAD_POPULAR_MOVIES_SUCCESS ",popularMovies:e}}(t))})).catch((function(t){throw e({type:"API_CALL_ERROR"}),t}))}},loadTrendingMovies:function(){return function(e){return e({type:"BEGIN_API_CALL"}),fetch("".concat(s).concat(u,"/trending/all/day").concat(l)).then(R).catch(S).then((function(t){e(function(e){return{type:"LOAD_TRENDY_MOVIES_SUCCESS ",trendingMovies:e}}(t))})).catch((function(t){throw e({type:"API_CALL_ERROR"}),t}))}},setMovie:_},F=Object(f.b)((function(e,t){return{trendingMovies:e.homePageReducer.trendingMovies,popularMovies:e.homePageReducer.popularMovies,currentMovie:e.homePageReducer.currentMovie,loading:e.apiCallsInProgress>0}}),V)(B),G=function(){return r.a.createElement("h1",null,"Oops! page not found.")},H=function(){return r.a.createElement(E.c,null,r.a.createElement(E.a,{exact:!0,path:"/",component:F}),r.a.createElement(E.a,{exact:!0,path:"/popular",component:x}),r.a.createElement(E.a,{exact:!0,path:"/Movie-browse",component:F}),r.a.createElement(E.a,{exact:!0,path:"/top5"}),r.a.createElement(E.a,{path:"/search/:name",component:q}),r.a.createElement(E.a,{path:"/movieProfile/:currentMovie",component:j}),r.a.createElement(E.a,{component:G}))};a(68);function z(){return r.a.createElement("div",{className:"App"},r.a.createElement(P,null),r.a.createElement(H,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=a(12),W=a(4),X={searchInput:"",currentPage:1,currentMovieProfile:null,apiCallsInProgress:0,currentMovie:[],loading:!1};function Y(e){return"_SUCCESS"===e.substring(e.length-8)}var $=Object(J.c)({homePageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_TRENDY_MOVIES_SUCCESS ":return Object(W.a)(Object(W.a)({},e),{},{trendingMovies:t.trendingMovies.results});case"SET_CURRENT_MOVIE":return Object(W.a)(Object(W.a)({},e),{},{currentMovie:t.currentMovie});case"LOAD_POPULAR_MOVIES_SUCCESS ":return Object(W.a)(Object(W.a)({},e),{},{popularMovies:t.popularMovies.results});case"SEARCH_INPUT":return Object(W.a)(Object(W.a)({},e),{},{searchInput:t.payload});case"SEARCH_RESULTS_SUCCESS":return Object(W.a)(Object(W.a)({},e),{},{searchResults:t.searchResults.results});default:return e}},apiStatusReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X.apiCallsInProgress,t=arguments.length>1?arguments[1]:void 0;return"BEGIN_API_CALL"===t.type?e+1:Y(t.type)||"API_CALL_ERROR"===t.type?e-1:e}}),K=a(29),Q=a.n(K),Z=a(30),ee=a(31),te=a.n(ee);var ae=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||J.d;return Object(J.e)($,e,t(Object(J.a)(Z.a,Q()(),te.a)))}();o.a.render(r.a.createElement(i.a,null,r.a.createElement(f.a,{store:ae},r.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.8c09ccde.chunk.js.map