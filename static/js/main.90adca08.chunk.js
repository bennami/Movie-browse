(this["webpackJsonpnetflix-react"]=this["webpackJsonpnetflix-react"]||[]).push([[0],{32:function(e,t,a){e.exports=a(75)},37:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(13),o=a.n(r),l=(a(37),a(8)),i="?api_key=67b347978ffe14fc5d6f8a664a1829f2",s="https://api.themoviedb.org/3",u="https://cors-anywhere.herokuapp.com/",m=("https://api.themoviedb.org/3/search/movie".concat(i,"?query="),a(3)),p=a.n(m),f=a(4),v=a(2),h=a(12),E=a(10),g=a.n(E);function b(e){return d.apply(this,arguments)}function d(){return(d=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t.json());case 2:if(400!==t.status){e.next=8;break}return e.next=5,t.text();case 5:throw a=e.sent,console.log(a),new Error("404 error");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){throw console.error("API call failed. "+e),e}a(41);function j(e){var t=Object(n.useState)(),a=Object(v.a)(t,2),r=a[0],o=a[1],m=Object(n.useState)([]),E=Object(v.a)(m,2),g=(E[0],E[1]),d=Object(h.f)(),j=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),""===r?alert("please enter a movie title"):(a=r,n=1,fetch("".concat(u).concat(s,"search/movie/").concat(i,"&query=").concat(a,"&page=").concat(n)).then(b).catch(O),g(r.results),d.push("/search/".concat(r)));case 2:case"end":return e.stop()}var a,n}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"search"},c.a.createElement("form",{action:c.a.createElement(l.b,{to:"/search"},"search"),onSubmit:j},c.a.createElement("input",{onChange:function(e){o(e.target.value)},type:"text",placeholder:"search for a movie"}),c.a.createElement("button",{type:"submit",onClick:j},c.a.createElement(l.b,{to:"/search"},"search"))))}j.prototype={searchResults:g.a.array.isRequired};var w=j,x=function(){return c.a.createElement("div",null,c.a.createElement("nav",{className:"nav"},c.a.createElement("div",{className:"nav-links"},c.a.createElement("img",{src:"https://www.themoviedb.org/assets/1/v4/logos/primary-green-d70eebe18a5eb5b166d5c1ef0796715b8d1a2cbc698f96d311d62f894ae87085.svg",alt:""}),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(l.b,{to:"/"},"home")),c.a.createElement("li",null,c.a.createElement(l.b,{to:"/login"},"login")),c.a.createElement("li",{className:"hide"},c.a.createElement("i",null,"search")))),c.a.createElement("div",{className:"nav-search"},c.a.createElement(w,null))))},y=function(e){return c.a.createElement("a",{href:"#",onClick:function(){return e.viewMovieInfo(e.movieId)}},c.a.createElement("div",{className:"cardMovie",style:{backgroundImage:"url(".concat(e.img,")")}}),c.a.createElement("p",{className:"titleMovie"},e.title))},k=function(e){var t=e.movieList,a=e.viewMovieInfo;return c.a.createElement("div",{className:"list"},t.map((function(e,t){return c.a.createElement(y,{key:t,img:"".concat("https://image.tmdb.org/t/p/w200/").concat(e.poster_path),title:e.original_title,description:e.overview,viewMovieInfo:a,movieId:e.id})})))};var S=function(e){for(var t=Object(n.useState)(0),a=Object(v.a)(t,2),r=a[0],o=a[1],l=[],i=[],s=function(t){var a=e.currentPage===t?"active":"";l.push(c.a.createElement("li",{className:" ".concat(a),key:t,onClick:function(){e.nextPage(t)}},t))},u=1;u<=e.pages;u++)s(u);return function(e,t){for(var a=0;a<=e.length;a+=t)i.push(e.slice(a,t+a))}(l,5),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("ul",{className:"pagination"},r<=0?"":c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{onClick:function(){r>0&&o(r-1),r<0&&o(r)}},"..."),c.a.createElement("button",null,"prev")),i[r],c.a.createElement("button",{onClick:e.nextPage},"next"),c.a.createElement("button",{onClick:function(){i.length-1===r?o(i.length-1):o(r+1)}},"..."))))};a(48);var N=function(e){var t=e.currentMovie,a=t.vote_average,n=t.release_date,r=t.backdrop_path,o=t.overview,l=t.poster_path,i=t.genre_ids,s=t.title;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container-profile bg",style:{backgroundImage:"url(".concat("https://image.tmdb.org/t/p/w1280/").concat(r,")")}},c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"icon",style:{display:"flex"}},c.a.createElement("ion-icon",{size:"large",name:"close-outline",onClick:e.closeMovieInfo,style:{color:"whitesmoke",cursor:"pointer"}})),c.a.createElement("div",{className:"profile-img"},c.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500/".concat(l),alt:s})),c.a.createElement("div",{className:"profile-text"},c.a.createElement("h2",null,s),c.a.createElement("div",{className:"sub-title"},c.a.createElement("p",null,c.a.createElement("small",null,0===a?"":"Rating: ".concat(a)," ")),c.a.createElement("p",null," ",c.a.createElement("small",null,"Release date: ",n.substr(0,4)," ")),c.a.createElement("p",null," ",c.a.createElement("small",null," trailer "))),c.a.createElement("br",null),c.a.createElement("p",null,i.map((function(t){return t===e.genre.id?(console.log(e.genre.name),e.genre.name):""}))),c.a.createElement("p",null,o)))))},M=(a(49),function(){return c.a.createElement("div",{className:"loader"},"Loading...")});var _=function(){var e=Object(n.useState)([]),t=Object(v.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),l=Object(v.a)(o,2),s=l[0],m=l[1],E=Object(h.g)().name,g=Object(n.useState)([]),b=Object(v.a)(g,2),d=b[0],O=(b[1],Object(n.useState)(1)),j=Object(v.a)(O,2),w=j[0],x=j[1],y=Object(n.useState)(),_=Object(v.a)(y,2),I=_[0],P=_[1],C=Object(n.useState)(0),L=Object(v.a)(C,1)[0],R=Object(n.useState)(null),D=Object(v.a)(R,2),F=D[0],U=D[1];Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(null),e.next=3,fetch("".concat(u,"https://api.themoviedb.org/3/search/movie/").concat(i,"&query=").concat(E,"&page=").concat(w));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,r(a.results),m(E),P(a.total_pages);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[E,w]);var q=function(e){var t=a.filter((function(t){return t.id===e})),n=t.length>0?t[0]:null;U(n)};return c.a.createElement("div",null,null===F?c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"Results for: ",s),null===a?c.a.createElement(M,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(k,{movieList:a,viewMovieInfo:q}),c.a.createElement("div",{className:"pagination-with-btn"},c.a.createElement(S,{pagesLink:L,pages:I,currentpages:w,nextPage:function(e){x(e)},currentPage:w})))):c.a.createElement(N,{viewMovieInfo:q,genre:d,currentMovie:F,closeMovieInfo:function(){U(null)}}))};var I=function(){var e=Object(n.useState)([]),t=Object(v.a)(e,2),a=t[0],r=t[1],o="https://cors-anywhere.herokuapp.com/";return Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"https://api.themoviedb.org/3/movie/popular?api_key=67b347978ffe14fc5d6f8a664a1829f2&language=en-US&page=1\n "));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,r(a.results);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),c.a.createElement("div",{className:"popular-container"},c.a.createElement("h1",null,"Popular movies"),c.a.createElement(k,{movieList:a}))};a(50),a(51),a(27),a(67);a(68);var P=function(){var e=Object(n.useState)([]),t=Object(v.a)(e,2),a=(t[0],t[1]),r=Object(n.useState)([]),o=Object(v.a)(r,2),l=o[0],m=o[1],h=Object(n.useState)(),E=Object(v.a)(h,2),g=(E[0],E[1]),b=Object(n.useState)(1),d=Object(v.a)(b,2),O=d[0],j=d[1],w=Object(n.useState)(),x=Object(v.a)(w,2),y=x[0],M=x[1],_=Object(n.useState)(0),I=Object(v.a)(_,1)[0],P=Object(n.useState)(null),C=Object(v.a)(P,2),L=C[0],R=C[1],D=Object(n.useState)([]),F=Object(v.a)(D,2),U=F[0],q=F[1];Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(u).concat(s,"/trending/all/day").concat(i));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a(n.results);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(f.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(u).concat(s,"/genre/movie/list").concat(i,"&language=en-US"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,q(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(u).concat(s,"/movie/popular").concat(i,"&language=en-US&page=").concat(O));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,m(a.results),M(a.total_pages),g(a.total_results);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[O]);var A=function(e){var t=l.filter((function(t){return t.id===e})),a=t.length>0?t[0]:null;R(a)};return c.a.createElement("div",null,null===L?c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Browse all popular movies"),c.a.createElement(k,{movieList:l,viewMovieInfo:A}),c.a.createElement(S,{pagesLink:I,pages:y,currentpages:O,nextPage:function(e){j(e)},currentPage:O})):c.a.createElement(N,{viewMovieInfo:A,genre:U,currentMovie:L,closeMovieInfo:function(){R(null)}}))},C=function(){return c.a.createElement("h1",null,"Oops! page not found.")},L=function(){return c.a.createElement(h.c,null,c.a.createElement(h.a,{exact:!0,path:"/",component:P}),c.a.createElement(h.a,{exact:!0,path:"/popular",component:I}),c.a.createElement(h.a,{exact:!0,path:"/Movie-browse",component:P}),c.a.createElement(h.a,{exact:!0,path:"/top5"}),c.a.createElement(h.a,{exact:!0,path:"/search/:name",component:_}),c.a.createElement(h.a,{component:C}))};a(69);function R(){return c.a.createElement("div",{className:"App"},c.a.createElement(x,null),c.a.createElement(L,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=a(11),F={searchInput:"",currentPage:1,trendingMovies:[],PopularMovies:[],currentMovieProfile:[],searchResults:[],apiCallsInProgress:0};var U=Object(D.c)({homePageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F.trendingMovies,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_TRENDY_MOVIES_SUCCESS ":return t.trendingMovies;default:return e}}}),q=a(29),A=a.n(q),B=a(30);var T=a(31),J=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||D.d;return Object(D.e)(U,e,t(Object(D.a)(B.a,A()())))}();o.a.render(c.a.createElement(T.a,{store:J},c.a.createElement(l.a,null,c.a.createElement(R,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.90adca08.chunk.js.map